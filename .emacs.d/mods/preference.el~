;; This file is created for preference modifications.
;;

;; Disabling tool-bar, scroll-bar and menu-bar.
(tool-bar-mode -1)
(scroll-bar-mode -1)
(menu-bar-mode -1)

;; Show tabs.
;; Requires tabbar.
(tabbar-mode t)
;; Display all tabs in one group.
;;
(defun my-tabbar-buffer-groups ()
    (list "tabs"))
(setq tabbar-buffer-groups-function 'my-tabbar-buffer-groups)
;; Sort all tabs by name.
(defun tabbar-add-tab (tabset object &optional append_ignored)
    "Add to TABSET a tab with value OBJECT if there isn't one there yet.
 If the tab is added, it is added at the beginning of the tab list,
 unless the optional argument APPEND is non-nil, in which case it is
 added at the end."
    (let ((tabs (tabbar-tabs tabset)))
	(if (tabbar-get-tab object tabset)
	    tabs
	    (let ((tab (tabbar-make-tab object tabset)))
		(tabbar-set-template tabset nil)
		(set tabset (sort (cons tab tabs)
				  (lambda (a b) (string< (buffer-name (car a)) (buffer-name (car b))))))))))

;;(setq tabbar-use-images nil)

(set-face-attribute 'tabbar-default nil
		    :background "gray20"
		    :foreground "gray20"
		    :box '(:line-width 2 :color "gray20" :style nil))
(set-face-attribute 'tabbar-unselected nil
		    :background "gray20"
		    :foreground "white"
		    :box '(:line-width 5 :color "gray30" :style nil))
(set-face-attribute 'tabbar-selected nil
		    :background "gray20"
		    :foreground "black"
		    :box '(:line-width 5 :color "gray75" :style nil))
(set-face-attribute 'tabbar-highlight nil
		    :background "white"
		    :foreground "black"
		    :underline nil
		    :box '(:line-width 5 :color "white" :style nil))
(set-face-attribute 'tabbar-button nil
		    :box '(:line-width 1 :color "gray20" :style nil))
(set-face-attribute 'tabbar-separator nil
		    :background "gray20"
		    :height 0.6)


;; Change padding of the tabs
;; we also need to set separator to avoid overlapping tabs by highlighted tabs
(custom-set-variables
 '(tabbar-separator (quote (0.5))))
;; adding spaces
(defun tabbar-buffer-tab-label (tab)
  "Return a label for TAB.
That is, a string used to represent it on the tab bar."
  (let ((label  (if tabbar--buffer-show-groups
                    (format "[%s]  " (tabbar-tab-tabset tab))
                  (format "%s  " (tabbar-tab-value tab)))))
    ;; Unless the tab bar auto scrolls to keep the selected tab
    ;; visible, shorten the tab label to keep as many tabs as possible
    ;; in the visible area of the tab bar.
    (if tabbar-auto-scroll-flag
        label
      (tabbar-shorten
       label (max 1 (/ (window-width)
                       (length (tabbar-view
                                (tabbar-current-tabset)))))))))


;; (defface tabbar-selected-association
;;     "Face used for the selected tab -- associated with the `frame-bufs-buffer-list`."
;;     '((t :background "black" :foreground "white" :box (:line-width 1 :color "white")))
;;     :group 'tabbar)

;; (defface tabbar-unselected-associated
;;     '((t :background "black" :foreground "gray" :box (:line-width 2 :color "white")))
;;     "Face used for unselected tabs  -- associated with the `frame-bufs-buffer-list`."
;;     :group 'tabbar)

;; (defface tabbar-selected-unassociated
;;     '((t :background "black" :foreground "gray" :box (:line-width 2 :color "firebrick")))
;;     "Face used for the selected tab -- UNassociated with the `frame-bufs-buffer-list`."
;;     :group 'tabbar)

;; (defface tabbar-unselected-unassociated
;;     '((t :background "black" :foreground "gray" :box (:line-width 2 :color "blue")))
;;     "Face used for unselected tabs -- UNassociated with the `frame-bufs-buffer-list`."
;;     :group 'tabbar)

;; (setq tabbar-background-color "black")


;; (defsubst tabbar-line-tab (tab)
;;     "Return the display representation of tab TAB.
;; That is, a propertized string used as an ` header-line-format' template
;; element.
;; Call ` tabbar-tab-label-function' to obtain a label for TAB."
;;     (concat
;;      (propertize
;;       (if tabbar-tab-label-function
;;           (funcall tabbar-tab-label-function tab)
;; 	  tab)
;;       'tabbar-tab tab
;;       'local-map (tabbar-make-tab-keymap tab)
;;       'help-echo 'tabbar-help-on-tab
;;       'mouse-face 'tabbar-highlight
;;       'face
;;       (cond
;; 	((and
;; 	  (tabbar-selected-p tab (tabbar-current-tabset))
;; 	  (memq (current-buffer) (my-buffer-list (selected-frame))))
;; 	 'tabbar-selected-associated)
;; 	((and
;; 	  (not (tabbar-selected-p tab (tabbar-current-tabset)))
;; 	  (memq (current-buffer) (my-buffer-list (selected-frame))))
;; 	 'tabbar-unselected-associated)
;; 	((and
;; 	  (tabbar-selected-p tab (tabbar-current-tabset))
;; 	  (not (memq (current-buffer) (my-buffer-list (selected-frame)))))
;; 	 'tabbar-selected-unassociated)
;; 	((and
;; 	  (not (tabbar-selected-p tab (tabbar-current-tabset)))
;; 	  (not (memq (current-buffer) (my-buffer-list (selected-frame)))))
;; 	 'tabbar-unselected-unassociated))
;;       'pointer 'hand)
;;      tabbar-separator-value))

;; Mode line setups.
;; !disabled by powerline-mode!
;; (setq mode-line-format
;;       '(" -/" mode-line-modified
;; 	;;mode-line-frame-identification
;; 	;;mode-line-buffer-identification "%4"
;; 	"  " mode-line-position
;; 	;; Some specific information about the current buffer:
;; 	;;lunaryorn-projectile-mode-line ; Project information
;; 	;;(vc-mode lunaryorn-vc-mode-line) ; VC information
;; 	;;(flycheck-mode flycheck-mode-line) ; Flycheck status
;; 	;;(multiple-cursors-mode mc/mode-line) ; Number of cursors
;; 	;; Misc information, notably battery state and function name
;; 	" "
;; 	mode-line-misc-info
;; 	;; And the modes, which I don't really care for anyway
;; 	mode-line-modes mode-line-end-spaces))

;; Show line and column numbers.
(global-linum-mode t)
(column-number-mode t)

;; Cursor line highlited.
;;(global-hl-line-mode 1)

;; Change default color theme.
;; (load-theme 'adwaita)
(load-theme 'wombat)
;; Powerline theme.
(powerline-center-theme)

;; Set font setups.
(set-default-font "Monaco 9")

;; Change window title.
(setq frame-title-format "%b %4 ~%f~")
(custom-set-variables
 ;; custom-set-variables was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 '(package-selected-packages (quote (auto-complete projectile slime))))
(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 )
